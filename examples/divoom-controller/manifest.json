{
	"id": "divoom-controller",
	"name": "Divoom Controller",
	"version": "1.0.0",
	"author": "LumiaStream",
	"description": "Control Divoom Pixoo displays via Lumia Stream actions.",
	"lumiaVersion": "^9.0.0",
	"license": "MIT",
	"category": "devices",
	"keywords": ["divoom", "pixoo", "display"],
	"icon": "divoom.png",
	"screenshots": ["divoom.png"],
	"config": {
		"settings": [
			{
				"key": "deviceAddress",
				"label": "Divoom IP Address",
				"type": "text",
				"placeholder": "192.168.1.42",
				"required": true
			},
			{
				"key": "devicePort",
				"label": "Port",
				"type": "number",
				"defaultValue": 80,
				"validation": {
					"min": 1,
					"max": 65535
				}
			},
			{
				"key": "requestTimeout",
				"label": "Request Timeout (ms)",
				"type": "number",
				"defaultValue": 5000,
				"validation": {
					"min": 500,
					"max": 15000
				}
			},
			{
				"key": "defaultTextWidth",
				"label": "Default Text Width",
				"type": "number",
				"defaultValue": 64,
				"validation": {
					"min": 16,
					"max": 128
				}
			},
			{
				"key": "defaultTextHeight",
				"label": "Default Text Height",
				"type": "number",
				"defaultValue": 64,
				"validation": {
					"min": 16,
					"max": 128
				}
			}
		],
		"actions": [
			{
				"type": "set_brightness",
				"label": "Set Brightness",
				"description": "Set device brightness between 0 and 100.",
				"fields": [
					{
						"key": "brightness",
						"label": "Brightness",
						"type": "number",
						"required": true,
						"defaultValue": 50,
						"validation": {
							"min": 0,
							"max": 100
						}
					}
				]
			},
			{
				"type": "set_channel",
				"label": "Switch Channel",
				"description": "Switch to a clock, visualizer, scene, or custom page.",
				"fields": [
					{
						"key": "channel",
						"label": "Channel",
						"type": "select",
						"required": true,
						"options": [
							{
								"label": "Clock (Channel/SetClock)",
								"value": "clock"
							},
							{
								"label": "Visualizer (Channel/SetVisualizer)",
								"value": "visualizer"
							},
							{
								"label": "Scene (Channel/SetScene)",
								"value": "scene"
							},
							{
								"label": "Custom Page Index (Channel/SetCustomPageIndex)",
								"value": "custom_page_index"
							}
						]
					},
					{
						"key": "id",
						"label": "Channel ID / Index",
						"type": "number",
						"required": true,
						"defaultValue": 0
					}
				]
			},
			{
				"type": "send_text",
				"label": "Send Scrolling Text",
				"description": "Display a scrolling message using Draw/SendHttpText.",
				"fields": [
					{
						"key": "message",
						"label": "Message",
						"type": "textarea",
						"required": true
					},
					{
						"key": "color",
						"label": "Text Color",
						"type": "color",
						"defaultValue": "#FFFFFF"
					},
					{
						"key": "scrollSpeed",
						"label": "Scroll Speed (1-100)",
						"type": "number",
						"defaultValue": 32,
						"validation": {
							"min": 1,
							"max": 100
						}
					},
					{
						"key": "direction",
						"label": "Direction",
						"type": "select",
						"defaultValue": "left",
						"options": [
							{
								"label": "Left",
								"value": "left"
							},
							{
								"label": "Right",
								"value": "right"
							},
							{
								"label": "Up",
								"value": "up"
							},
							{
								"label": "Down",
								"value": "down"
							}
						]
					},
					{
						"key": "repeat",
						"label": "Repeat Count",
						"type": "number",
						"defaultValue": 1,
						"validation": {
							"min": 1,
							"max": 10
						}
					}
				]
			},
			{
				"type": "send_raw_command",
				"label": "Send Raw Command",
				"description": "Send a custom command payload directly to the device.",
				"fields": [
					{
						"key": "command",
						"label": "Command",
						"type": "text",
						"required": true
					},
					{
						"key": "payload",
						"label": "Payload JSON",
						"type": "textarea",
						"helperText": "Additional properties as JSON (e.g. { \"SceneId\": 6 })."
					}
				]
			}
		],
		"variables": []
	}
}
