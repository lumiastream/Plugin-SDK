{
	"id": "tikfinity",
	"name": "Tikfinity TikTok LIVE",
	"version": "1.0.0",
	"author": "Lumia Stream",
	"email": "dev@lumiastream.com",
	"website": "https://lumiastream.com",
	"repository": "https://github.com/LumiaStream/tikfinity-plugin",
	"description": "Connect to TikTok LIVE streams via Tikfinity Desktop WebSocket service to receive real-time events like chat, gifts, follows, shares, likes, and more.",
	"license": "MIT",
	"lumiaVersion": "^9.0.0",
	"category": "platforms",
	"icon": "tikfinity-icon.png",
	"changelog": "# Changelog\n\n## 1.0.0\n- Initial release\n- WebSocket connection to Tikfinity API\n- Real-time event processing for chat, gifts, follows, shares, likes\n- Stream start/end detection\n- Viewer count tracking\n- Template variable updates\n- Manual connection/disconnection handlers",
	"config": {
		"settings": [
			{
				"key": "username",
				"label": "TikTok Username",
				"type": "text",
				"placeholder": "Enter your TikTok username (without @)",
				"helperText": "Your TikTok username to monitor for LIVE events",
				"required": true
			},
			{
				"key": "apiKey",
				"label": "Tikfinity API Key (Optional)",
				"type": "text",
				"placeholder": "Enter your Tikfinity API key for Pro features",
				"helperText": "Optional: Get your API key from https://tikfinity.zerody.one for Pro features",
				"required": false
			},
			{
				"key": "reconnectInterval",
				"label": "Reconnect Interval (seconds)",
				"type": "number",
				"defaultValue": 30,
				"helperText": "How long to wait before attempting reconnection (10-300 seconds)"
			}
		],
		"settings_tutorial": "---\n### üîë Setup Your Tikfinity Connection\n1) Enter your TikTok username (the one you use to go LIVE).\n2) (Optional) Get a Pro API key from https://tikfinity.zerody.one for enhanced features.\n3) Click **Save** to establish the connection.\n---\n### ‚úÖ Verify Connection\nThe plugin will attempt to connect when you go LIVE on TikTok.\n---\n### ‚è±Ô∏è Adjust Reconnection\nSet a reconnect interval for automatic reconnection attempts (10‚Äì300 seconds).\n---",
		"actions_tutorial": "---\n### üîó Manual Connect\nUse this to manually establish a connection to Tikfinity.\n---\n### ‚ùå Manual Disconnect\nUse this to manually disconnect from Tikfinity.\n---\n### üö® Test Alert\nFire a test alert to verify your alert/overlay setup.\n---",
		"actions": [
			{
				"type": "manual_connect",
				"label": "Manual Connect",
				"description": "Manually connect to Tikfinity WebSocket",
				"fields": []
			},
			{
				"type": "manual_disconnect",
				"label": "Manual Disconnect",
				"description": "Manually disconnect from Tikfinity",
				"fields": []
			},
			{
				"type": "test_alert",
				"label": "Test Alert",
				"description": "Trigger a test alert",
				"fields": []
			}
		],
		"variables": [
			{
				"name": "tikfinity_connected",
				"description": "Whether the Tikfinity connection is active",
				"value": false
			},
			{
				"name": "tikfinity_live",
				"description": "Whether the TikTok stream is currently live",
				"value": false
			},
			{
				"name": "tikfinity_viewers",
				"description": "Current number of viewers watching the stream",
				"value": 0
			},
			{
				"name": "tikfinity_title",
				"description": "Current stream title",
				"value": ""
			},
			{
				"name": "tikfinity_total_viewers",
				"description": "Total viewers that have joined the stream session",
				"value": 0
			},
			{
				"name": "tikfinity_likes",
				"description": "Total likes received during the stream",
				"value": 0
			},
			{
				"name": "tikfinity_diamonds",
				"description": "Total diamonds received during the stream",
				"value": 0
			},
			{
				"name": "tikfinity_followers",
				"description": "Session follower count",
				"value": 0
			},
			{
				"name": "tikfinity_shares",
				"description": "Number of shares during the stream",
				"value": 0
			},
			{
				"name": "tikfinity_last_chatter",
				"description": "Username of the last person to chat",
				"value": ""
			},
			{
				"name": "tikfinity_last_gifter",
				"description": "Username of the last person to send a gift",
				"value": ""
			},
			{
				"name": "tikfinity_last_follower",
				"description": "Username of the last person to follow",
				"value": ""
			}
		],
		"alerts": [
			{
				"title": "Stream Started",
				"key": "streamStarted",
				"acceptedVariables": [
					"tikfinity_live",
					"tikfinity_viewers",
					"tikfinity_title"
				],
				"defaultMessage": "{{username}} has started streaming on TikTok!",
				"variationConditions": [
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			},
			{
				"title": "Stream Ended",
				"key": "streamEnded",
				"acceptedVariables": [
					"tikfinity_viewers",
					"tikfinity_likes",
					"tikfinity_diamonds",
					"tikfinity_followers",
					"tikfinity_shares"
				],
				"defaultMessage": "{{username}} has ended their TikTok stream.",
				"variationConditions": [
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			},
			{
				"title": "Chat Message",
				"key": "chat",
				"acceptedVariables": ["tikfinity_last_chatter"],
				"defaultMessage": "{{username}}: {{message}}",
				"variationConditions": [
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			},
			{
				"title": "Gift",
				"key": "gift",
				"acceptedVariables": ["tikfinity_last_gifter", "tikfinity_diamonds"],
				"defaultMessage": "{{username}} sent {{giftName}} x{{giftAmount}}!",
				"variationConditions": [
					{
						"type": "GREATER_NUMBER",
						"description": "Gift diamond value is greater than.."
					},
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			},
			{
				"title": "Follow",
				"key": "follow",
				"acceptedVariables": ["tikfinity_last_follower", "tikfinity_followers"],
				"defaultMessage": "{{username}} followed!",
				"variationConditions": [
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			},
			{
				"title": "Share",
				"key": "share",
				"acceptedVariables": ["tikfinity_shares"],
				"defaultMessage": "{{username}} shared the stream!",
				"variationConditions": [
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			},
			{
				"title": "Like",
				"key": "like",
				"acceptedVariables": ["tikfinity_likes"],
				"defaultMessage": "{{username}} liked the stream!",
				"variationConditions": [
					{
						"type": "GREATER_NUMBER",
						"description": "Like count is greater than.."
					},
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			},
			{
				"title": "Subscribe",
				"key": "subscribe",
				"acceptedVariables": [],
				"defaultMessage": "{{username}} subscribed!",
				"variationConditions": [
					{
						"type": "RANDOM",
						"description": "Trigger this variation based on a percent chance."
					}
				]
			}
		]
	}
}
